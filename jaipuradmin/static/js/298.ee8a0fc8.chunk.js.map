{"version":3,"file":"static/js/298.ee8a0fc8.chunk.js","mappings":"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","sources":["app/components/transaction/Withdrawl.js"],"sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { Card } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport Swal from \"sweetalert2\";\n\nconst $ = require(\"jquery\")\n$.Datatable = require(\"datatables.net\");\n\nconst Withdrawl = () => {\n\n  const beckendLocalApiUrl = process.env.REACT_APP_BACKEND_LOCAL_API;\n  const beckendLiveApiUrl = process.env.REACT_APP_BACKEND_LIVE_API;\n  const nodeMode = process.env.NODE_ENV;\n  if (nodeMode === \"development\") {\n    var baseUrl = beckendLocalApiUrl;\n  } else {\n    baseUrl = beckendLiveApiUrl;\n  }\n\n\n  const [user, setUser] = useState()\n  const [mount, setMount] = useState(false);\n\n  const profle = () => {\n\n    const access_token = localStorage.getItem(\"token\")\n    const headers = {\n      Authorization: `Bearer ${access_token}`\n    }\n    axios.get(baseUrl+`temp/withdraw/all/pending`, { headers })\n      .then((res) => {\n        setUser(res.data)\n        $('table').dataTable();\n\n        console.log(user)\n      })\n  }\n\n  // const checkStatus = async (id) => {\n  //   setMount(true)\n  //   const access_token = localStorage.getItem(\"token\")\n  //   const headers = {\n  //     Authorization: `Bearer ${access_token}`\n  //   }\n  //   axios.get(baseUrl+`withdrawlstatus/${id}`,\n  //     { headers })\n  //     .then((res) => {\n  //       setMount(false)\n  //       console.log(res.data)\n  //       Swal.fire({\n  //         title: res.data.message,\n  //         icon: \"info\",\n  //         confirmButtonText: \"OK\",\n  //       });\n  //       profle()\n  //     }).catch((e) => {\n  //       setMount(false)\n  //       profle()\n  //       console.log(e);\n  //     })\n  // }\n\n\n\n  const update = async (amount, type, userID, txnID, reqID) => {\n    setMount(true)\n    const access_token = localStorage.getItem(\"token\")\n    const headers = {\n      Authorization: `Bearer ${access_token}`\n    }\n    //bank\n    if(type=='upi'){\n      var pathUrl = baseUrl+`withdraw/razorpay/adminmanual`;\n    }else{\n      var pathUrl = baseUrl+`withdraw/decentro/adminmanual`;\n    }\n    axios.post(pathUrl,\n      {\n        amount: amount, type: type, userID: userID, txnID: txnID, reqID: reqID\n      },\n      { headers })\n      .then((res) => {\n        setMount(false);\n        if (res.data.subCode === '200') {\n          console.log('cash res', res);\n          Swal.fire({\n            title: res.data.message,\n            icon: \"success\",\n            confirmButtonText: \"OK\",\n          });\n          setTimeout(() => {\n            profle()\n          }, 1000);\n        }\n        else {\n          Swal.fire({\n            title: res.data.message,\n            icon: \"danger\",\n            confirmButtonText: \"OK\",\n          });\n           setTimeout(() => {\n            profle()\n          }, 1000);\n        }\n      }).catch((e) => {\n        setMount(false)\n        Swal.fire({\n          title: 'Error! try after sometime.',\n          icon: \"error\",\n          confirmButtonText: \"OK\",\n        });\n        console.log(e);\n         setTimeout(() => {\n            profle()\n          }, 1000);\n      })\n  }\n  const reject = async (id) => {\n    setMount(true)\n    const access_token = localStorage.getItem(\"token\")\n    const headers = {\n      Authorization: `Bearer ${access_token}`\n    }\n    axios.patch(baseUrl+`temp/withdraw/reject/${id}`,\n      {\n        status: \"reject\"\n      },\n      { headers })\n      .then((res) => {\n        setMount(false)\n        if(res.data.error)\n        {\n          Swal.fire({\n            title: res.data.message,\n            icon: \"danger\",\n            confirmButtonText: \"OK\",\n          });\n        }\n        profle()\n      }).catch((e) => {\n        setMount(false)\n        profle()\n        console.log(e);\n      })\n  }\n\n\n  useEffect(() => {\n    profle()\n  }, [])\n\n\n  if (user == undefined) {\n    return null\n  }\n\n\n  return (\n    mount ?\n      <div className=\"\" style={{ \"height\":\"100%\",\"display\": \"flex\", \"alignItems\": \"center\", \"justifyContent\": \"center\", \"top\": \"0\", \"left\": \"0\", \"right\": \"0\", \"bottom\": \"0\", \"zIndex\": \"9999\", \"backgroundColor\": \"rgb(255, 255, 255)\" }}>\n        <img\n          src={'/Loader1.gif'}\n          style={{ width: \"150px\", height: \"80px\" }}\n        />\n      </div> :\n      <div className=\"row \">\n        <div className=\"col-12 grid-margin\">\n          <div className=\"card\">\n            <div className=\"card-body\">\n              <h4 className=\"card-title\"> Withdrawl Request</h4>\n              <div className=\"table-responsive\">\n                <table className=\"table\">\n                  <thead>\n                    <tr>\n                      <th>#</th>\n                      <th> ID</th>\n                      <th> Phone no.</th>\n                      <th> Username</th>\n                      <th> Amount </th>\n                      <th> Withdraw type </th>\n                      <th> Action </th>\n                    </tr>\n                  </thead>\n\n                  <tbody>\n                    {user && user.map((item, index) => (\n                      <tr key={item._id}>\n                        <td>{index + 1}</td>\n                        <td>{item._id}</td>\n                        <td>{item.user && item.user.Phone}</td>\n                        <td>{item.user && <Link className=\"btn btn-sm btn-outline-info\" to={`/user/view_user/${item.user._id}`} >{item.user.Name}</Link>}</td>\n                        <td>{item.amount}</td>\n                        <td>\n                          {item.type}\n                        </td>\n                        <td>\n                          {!mount && item.status == \"Pending\" && <> <button className=\"btn btn-primary mr-2\" onClick={() => update(item.amount, item.type, item.user._id, item.txn_id, item._id)} >Approve</button> <button className=\"btn btn-danger mr-2\" onClick={() => reject(item._id)} >reject</button></>}\n                          {/* <button type=\"button\" class=\"btn btn-primary\" onClick={() => checkStatus(item._id)}><i class=\"fa fa-eye\" aria-hidden=\"true\"></i> status</button> */}\n                        </td>\n                        {/* <td> */}\n                      </tr>\n\n                    ))\n                    }\n                  </tbody>\n\n                </table>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n  );\n};\n\nexport default Withdrawl;"],"names":["$","require","Datatable","baseUrl","process","useState","user","setUser","mount","setMount","profle","access_token","localStorage","getItem","headers","Authorization","axios","then","res","data","dataTable","console","log","update","amount","type","userID","txnID","reqID","pathUrl","subCode","Swal","title","message","icon","confirmButtonText","setTimeout","catch","e","reject","id","status","error","useEffect","undefined","className","style","src","width","height","map","item","index","_id","Phone","to","Name","onClick","txn_id"],"sourceRoot":""}