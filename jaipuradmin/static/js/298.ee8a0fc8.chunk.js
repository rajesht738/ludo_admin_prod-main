"use strict";(self.webpackChunkludo_admin=self.webpackChunkludo_admin||[]).push([[298],{4298:function(e,t,n){n.r(t);var r=n(4165),a=n(5861),i=n(9439),s=n(4569),c=n.n(s),o=n(2791),d=n(1523),l=n(1830),u=n.n(l),h=n(184),m=n(8890);m.Datatable=n(5657);t.default=function(){var e;e="https://api.jaipurludo.com/";var t=(0,o.useState)(),n=(0,i.Z)(t,2),s=n[0],l=n[1],f=(0,o.useState)(!1),x=(0,i.Z)(f,2),j=x[0],p=x[1],g=function(){var t=localStorage.getItem("token"),n={Authorization:"Bearer ".concat(t)};c().get(e+"temp/withdraw/all/pending",{headers:n}).then((function(e){l(e.data),m("table").dataTable(),console.log(s)}))},b=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n,a,i,s,o){var d,l,h;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p(!0),d=localStorage.getItem("token"),l={Authorization:"Bearer ".concat(d)},h="upi"==a?e+"withdraw/razorpay/adminmanual":e+"withdraw/decentro/adminmanual",c().post(h,{amount:n,type:a,userID:i,txnID:s,reqID:o},{headers:l}).then((function(e){p(!1),"200"===e.data.subCode?(console.log("cash res",e),u().fire({title:e.data.message,icon:"success",confirmButtonText:"OK"}),setTimeout((function(){g()}),1e3)):(u().fire({title:e.data.message,icon:"danger",confirmButtonText:"OK"}),setTimeout((function(){g()}),1e3))})).catch((function(e){p(!1),u().fire({title:"Error! try after sometime.",icon:"error",confirmButtonText:"OK"}),console.log(e),setTimeout((function(){g()}),1e3)}));case 5:case"end":return t.stop()}}),t)})));return function(e,n,r,a,i){return t.apply(this,arguments)}}(),v=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p(!0),a=localStorage.getItem("token"),i={Authorization:"Bearer ".concat(a)},c().patch(e+"temp/withdraw/reject/".concat(n),{status:"reject"},{headers:i}).then((function(e){p(!1),e.data.error&&u().fire({title:e.data.message,icon:"danger",confirmButtonText:"OK"}),g()})).catch((function(e){p(!1),g(),console.log(e)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,o.useEffect)((function(){g()}),[]),void 0==s?null:j?(0,h.jsx)("div",{className:"",style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",top:"0",left:"0",right:"0",bottom:"0",zIndex:"9999",backgroundColor:"rgb(255, 255, 255)"},children:(0,h.jsx)("img",{src:"/Loader1.gif",style:{width:"150px",height:"80px"}})}):(0,h.jsx)("div",{className:"row ",children:(0,h.jsx)("div",{className:"col-12 grid-margin",children:(0,h.jsx)("div",{className:"card",children:(0,h.jsxs)("div",{className:"card-body",children:[(0,h.jsx)("h4",{className:"card-title",children:" Withdrawl Request"}),(0,h.jsx)("div",{className:"table-responsive",children:(0,h.jsxs)("table",{className:"table",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"#"}),(0,h.jsx)("th",{children:" ID"}),(0,h.jsx)("th",{children:" Phone no."}),(0,h.jsx)("th",{children:" Username"}),(0,h.jsx)("th",{children:" Amount "}),(0,h.jsx)("th",{children:" Withdraw type "}),(0,h.jsx)("th",{children:" Action "})]})}),(0,h.jsx)("tbody",{children:s&&s.map((function(e,t){return(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:t+1}),(0,h.jsx)("td",{children:e._id}),(0,h.jsx)("td",{children:e.user&&e.user.Phone}),(0,h.jsx)("td",{children:e.user&&(0,h.jsx)(d.rU,{className:"btn btn-sm btn-outline-info",to:"/user/view_user/".concat(e.user._id),children:e.user.Name})}),(0,h.jsx)("td",{children:e.amount}),(0,h.jsx)("td",{children:e.type}),(0,h.jsx)("td",{children:!j&&"Pending"==e.status&&(0,h.jsxs)(h.Fragment,{children:[" ",(0,h.jsx)("button",{className:"btn btn-primary mr-2",onClick:function(){return b(e.amount,e.type,e.user._id,e.txn_id,e._id)},children:"Approve"})," ",(0,h.jsx)("button",{className:"btn btn-danger mr-2",onClick:function(){return v(e._id)},children:"reject"})]})})]},e._id)}))})]})})]})})})})}}}]);
//# sourceMappingURL=298.ee8a0fc8.chunk.js.map